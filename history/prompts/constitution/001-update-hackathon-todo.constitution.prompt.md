---
id: 001
title: update-hackathon-todo
stage: constitution
date: 2025-12-30
surface: agent
model: Claude Sonnet 4.5
feature: none
branch: master
user: user
command: /sp.constitution
labels: [constitution, hackathon, todo, specification]
links:
  spec: null
  ticket: null
  adr: null
  pr: null
files:
 - .specify/memory/constitution.md
 - .specify/templates/plan-template.md
 - .specify/templates/spec-template.md
 - .specify/templates/tasks-template.md
tests:
 - null
---

## Prompt

```text
 # Project Constitution: Evolution of Todo ‚Äì Hackathon II
## Project Name: hackathon-todo
## Goal: Build a Todo application that evolves from a simple in-memory console app (Phase I) to a fully cloud-native, event-driven, AI-powered distributed system (Phase V) using 100% Spec-Driven Development.

## Core Principles (Non-Negotiable ‚Äì Zero Tolerance Violations)

1. **Zero Manual Coding Allowed**
   - Every single line of code (Python, TypeScript, YAML, Docker, Helm, etc.) MUST be generated by Claude Code after refining specifications.
   - Manual edits only allowed for fixing Claude-generated syntax errors (must be documented in commit message with Task ID).
   - Judges will review Claude Code chat history, prompts, and iterations.

2. **Spec-Driven Development is the Single Source of Truth**
   - All features, architecture, APIs, database schema, deployment configs MUST originate from files in /specs/
   - Every implementation MUST reference a Task ID from speckit.tasks which traces back to speckit.specify and speckit.plan
   - Use @specs/path/to/file.md referencing in all Claude prompts

3. **Reusable Intelligence Mandatory (+200 Bonus Target)**
   - Create and actively use at least 3 Agent Skills in .claude/skills/
   - Create and actively use at least 2 Subagents in .claude/agents/
   - Skills and Subagents MUST be reused across phases (e.g., task-validator skill used in Phase I, III, V)
   - Demonstrate delegation: orchestrator subagent ‚Üí task-manager subagent ‚Üí MCP tools

4. **MCP Servers Architecture**
   - Phase I‚ÄìII: No MCP needed
   - Phase III‚ÄìV: Official MCP SDK MUST be used to expose stateless task tools
   - Primary MCP Server: FastAPI backend itself (exposes add_task, list_tasks, update_task, delete_task, complete_task)
   - Bonus MCP Server: Spec-Kit Plus commands exposed via MCP (specifyplus init, plan, tasks as tools)
   - All agents MUST interact with application state ONLY via MCP tools (never direct DB calls)

5. **Phase-Wise Evolution Constraints**
   - Phase I: Pure Python console, in-memory, UV + Python 3.13+
   - Phase II: Monorepo, Next.js 16 (App Router) + FastAPI + SQLModel + Neon Serverless Postgres + Better Auth with JWT
   - Phase III: OpenAI ChatKit frontend + OpenAI Agents SDK + Official MCP SDK + Stateless chat endpoint + Conversation persistence in DB
   - Phase IV: Docker (use Gordon where possible) + Minikube + Helm Charts + kubectl-ai + kagent for AIOps
   - Phase V: DigitalOcean DOKS + Kafka (Redpanda preferred) + Full Dapr (Pub/Sub, State, Jobs API, Secrets, Service Invocation) + Event-driven architecture for reminders, recurring tasks, real-time sync

6. **Reusable Intelligence Specific Requirements**
   - Agent Skills MUST include:
     ‚Ä¢ todo-task-validator (title/description/priority/due_date rules)
     ‚Ä¢ natural-language-parser (English + Urdu support for bonus)
     ‚Ä¢ mcp-tool-caller (confirmation + error handling pattern)
   - Subagents MUST include:
     ‚Ä¢ task-manager (handles all CRUD via MCP tools, uses validator skill)
     ‚Ä¢ chatbot-orchestrator (parses input, delegates to task-manager, handles Urdu)
     ‚Ä¢ deployment-expert (Phase IV/V ‚Äì generates Helm, Dapr components)
   - Orchestrator MUST delegate to subagents, never perform tasks directly

7. **Bonus Features Targeted**
   - Multi-language Support: Urdu detection and response in chatbot (+100)
   - Voice Commands via Web Speech API (+200 possible)
   - Cloud-Native Blueprints via Agent Skills (+200 possible)

8. **Quality & Style Standards**
   - Clean code, type hints, proper project structure per phase
   - All API endpoints follow documented paths and JWT auth
   - Stateless where required, persistent state only in Neon DB
   - Comprehensive README.md + CLAUDE.md hierarchy
   - Demo videos under 90 seconds showing spec ‚Üí implementation flow

9. **Violation Hierarchy**
   - Constitution > Specify > Plan > Tasks
   - Any conflict: Constitution wins
   - Any agent (Claude, subagent) violating these rules MUST stop and request human clarification

This constitution governs all development from Phase I through Phase V. All agents, skills, and subagents MUST adhere strictly.
```

## Response snapshot

Updated the project constitution at .specify/memory/constitution.md with the hackathon-todo principles. The constitution now includes 6 core principles:

1. Zero Manual Coding Allowed
2. Spec-Driven Development is the Single Source of Truth
3. Reusable Intelligence Mandatory
4. MCP Servers Architecture
5. Phase-Wise Evolution Constraints
6. Reusable Intelligence Specific Requirements

Also includes sections on Bonus Features, Quality & Style Standards, Violation Hierarchy, and Governance.

Updated dependent templates to align with the new constitution:
- .specify/templates/plan-template.md: Added constitution check gates
- .specify/templates/spec-template.md: Added constitution compliance success criteria
- .specify/templates/tasks-template.md: Added constitution compliance verification tasks

## Outcome

- ‚úÖ Impact: High - Established foundational principles for hackathon project
- üß™ Tests: No automated tests created
- üìÅ Files: 4 files updated to align with new constitution
- üîÅ Next prompts: Implementation of Phase I features following constitution
- üß† Reflection: Constitution provides clear framework for hackathon development with specific phase requirements

## Evaluation notes (flywheel)

- Failure modes observed: None
- Graders run and results (PASS/FAIL): Not applicable
- Prompt variant (if applicable): Not applicable
- Next experiment (smallest change to try): Begin Phase I implementation following constitution principles